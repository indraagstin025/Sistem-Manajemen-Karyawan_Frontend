<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - Pengajuan Cuti & Izin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
    


    <script type="module" crossorigin src="/assets/admin_leave_requests-f06722ea.js"></script>
    <link rel="modulepreload" crossorigin href="/assets/input-d134dd88.js">
    <link rel="modulepreload" crossorigin href="/assets/AuthServices-f47c4eb9.js">
    <link rel="modulepreload" crossorigin href="/assets/LeaveRequestsServices-ddeca199.js">
    <link rel="modulepreload" crossorigin href="/assets/sidebarHandler-d6522c99.js">
    <link rel="modulepreload" crossorigin href="/assets/logoutHandler-87b1a96c.js">
    <link rel="modulepreload" crossorigin href="/assets/AttendanceServices-f61bdc29.js">
    <link rel="modulepreload" crossorigin href="/assets/qrCodeHandler-01879f51.js">
    <link rel="modulepreload" crossorigin href="/assets/photoUtils-240b8068.js">
    <link rel="modulepreload" crossorigin href="/assets/toastify-3acd0462.js">
    <link rel="stylesheet" href="/assets/input-2c836554.css">
    <link rel="stylesheet" href="/assets/admin_leave_requests-07a569ae.css">
    <link rel="stylesheet" href="/assets/toastify-a461d729.css">
  </head>
  <body class="bg-gradient-to-br from-blue-50 via-teal-50 to-purple-50 text-gray-800 flex min-h-screen">
    <aside class="hidden md:flex flex-col w-64 bg-white shadow-xl border-r border-gray-200 py-6">
      <div class="flex items-center justify-center h-16 mb-8">
        <a href="/admin_dashboard.html" class="text-3xl font-extrabold text-teal-600">HR-System</a>
      </div>
      <nav class="flex flex-col flex-grow px-4">
        <a href="/admin_dashboard.html" class="flex items-center px-4 py-3 mt-2 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
          <i data-feather="home" class="w-5 h-5 mr-3"></i><span>Dashboard</span>
        </a>
        <a href="/manage_employees.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
          <i data-feather="users" class="w-5 h-5 mr-3"></i><span>Manajemen Karyawan</span>
        </a>
        <a href="/manage_departments.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
          <i data-feather="grid" class="w-5 h-5 mr-3"></i><span>Manajemen Departemen</span>
        </a>
        <a href="/manage_work_schedules.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
          <i data-feather="calendar" class="w-5 h-5 mr-3"></i><span>Manajemen Jadwal Kerja</span>
        </a>
        <button type="button" id="generate-qr-menu-btn" class="flex items-center w-full text-left px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
          <i data-feather="square" class="w-5 h-5 mr-3"></i><span>Generate QR Code</span>
        </button>
        <a href="/list_attendance.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
          <i data-feather="clock" class="w-5 h-5 mr-3"></i><span>Laporan Absensi</span>
        </a>
        <a
          href="/admin_leave_requests.html"
          class="flex items-center px-4 py-3 mt-3 text-base font-semibold text-white bg-gradient-to-br from-teal-500 to-teal-700 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-[1.02] active:scale-95"
        >
          <i data-feather="file-text" class="w-5 h-5 mr-3"></i><span>Pengajuan Cuti & Izin</span>
        </a>
        <div class="mt-auto pt-6 border-t border-gray-200 mx-4">
          <a href="#" id="logoutButton" class="flex items-center px-4 py-3 mt-2 text-base font-medium text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-xl transition-colors duration-200">
            <i data-feather="log-out" class="w-5 h-5 mr-3"></i><span>Keluar</span>
          </a>
        </div>
      </nav>
    </aside>

    <div class="flex flex-col flex-grow">
      <header class="h-16 bg-white shadow-md flex items-center justify-between px-6 border-b border-gray-200 z-10">
        <div class="flex items-center">
          <button class="md:hidden text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-700 mr-4" id="sidebarToggle">
            <i data-feather="menu" class="w-6 h-6"></i>
          </button>
          <h1 class="text-2xl font-bold text-gray-900">Pengajuan Cuti & Izin</h1>
        </div>
        <div class="flex items-center space-x-4">
          <div class="relative group">
            <img
              id="userAvatar"
              class="h-10 w-10 rounded-full object-cover cursor-pointer border-2 border-gray-200 group-hover:border-teal-500 transition-colors duration-200"
              src="https://placehold.co/40x40/E2E8F0/4A5568?text=AD"
              alt="User Avatar"
            />
            <div id="dropdownMenu" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-1 hidden group-hover:block z-20">
              <div class="border-t border-gray-100 my-1"></div>
              <a href="#" id="dropdownLogoutButton" class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md">Keluar</a>
            </div>
          </div>
        </div>
      </header>

      <main class="flex-grow p-6 bg-gradient-to-br from-blue-50 via-teal-50 to-purple-50 overflow-y-auto custom-scroll">
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
          <h3 class="text-xl font-semibold text-gray-800 mb-4">Daftar Pengajuan Cuti & Izin</h3>
          <div id="leaveRequestsMessage" class="hidden p-4 mb-4 text-sm text-blue-700 bg-blue-100 rounded-lg" role="alert"></div>

<div class="table-wrapper">
  <table class="leave-table">
<thead>
  <tr>
    <th style="min-width: 250px;">Karyawan</th>
    <th>Tipe</th>
    <th>Tanggal</th>
    <th>Status</th>
    <th style="min-width: 200px;">Aksi</th>
  </tr>
</thead>
    <tbody id="leaveRequestsTableBody">
      <!-- JS akan isi di sini -->
    </tbody>
  </table>
</div>


          <div id="paginationControls" class="flex justify-between items-center mt-6">
            <button id="prevPageBtn" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 transition-colors">Sebelumnya</button>
            <span id="currentPageInfo" class="text-sm text-gray-600">Halaman 1 dari 1</span>
            <button id="nextPageBtn" class="px-4 py-2 bg-teal-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-teal-700 transition-colors">Selanjutnya</button>
          </div>
        </div>
      </main>
    </div>

    <div id="mobileSidebar" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-40 hidden md:hidden opacity-0 transition-opacity duration-300 ease-out">
      <div class="w-64 bg-white h-full shadow-xl flex flex-col transform -translate-x-full transition-transform duration-300 ease-out" id="mobileSidebarPanel">
        <div class="flex items-center justify-between h-16 bg-teal-600 text-white px-4">
          <a href="#" class="text-2xl font-bold">HR-System</a>
          <button id="closeSidebar" class="text-white hover:text-gray-200 focus:outline-none">
            <i data-feather="x" class="w-6 h-6"></i>
          </button>
        </div>
        <nav class="flex flex-col flex-grow p-4">
          <a href="/admin_dashboard.html" class="flex items-center px-4 py-3 mt-2 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
            <i data-feather="home" class="w-5 h-5 mr-3"></i><span>Dashboard</span>
          </a>
          <a href="/manage_employees.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
            <i data-feather="users" class="w-5 h-5 mr-3"></i><span>Manajemen Karyawan</span>
          </a>
          <a href="/manage_departments.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
            <i data-feather="grid" class="w-5 h-5 mr-3"></i><span>Manajemen Departemen</span>
          </a>
          <button type="button" id="generate-qr-menu-btn-mobile" class="flex items-center w-full text-left px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
            <i data-feather="square" class="w-5 h-5 mr-3"></i><span>Generate QR Code</span>
          </button>
          <a href="/list_attendance.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
            <i data-feather="clock" class="w-5 h-5 mr-3"></i><span>Laporan Absensi</span>
          </a>
          <a
            href="/admin_leave_requests.html"
            class="flex items-center px-4 py-3 mt-3 text-base font-semibold text-white bg-gradient-to-br from-teal-500 to-teal-700 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-[1.02] active:scale-95"
          >
            <i data-feather="file-text" class="w-5 h-5 mr-3"></i><span>Pengajuan Cuti & Izin</span>
          </a>
          <a href="/manage_work_schedules.html" class="flex items-center px-4 py-3 mt-3 text-base font-medium text-gray-700 hover:bg-teal-50 hover:text-teal-700 rounded-xl transition-colors duration-200">
            <i data-feather="calendar" class="w-5 h-5 mr-3"></i><span>Manajemen Jadwal Kerja</span>
          </a>
          <div class="mt-auto pt-6 border-t border-gray-200 mx-4">
            <a href="#" id="mobileLogoutButton" class="flex items-center px-4 py-3 mt-2 text-base font-medium text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-xl transition-colors duration-200">
              <i data-feather="log-out" class="w-5 h-5 mr-3"></i><span>Keluar</span>
            </a>
          </div>
        </nav>
      </div>
    </div>

<div id="attachmentViewerModal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-75 z-50 flex items-center justify-center">
      <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-6xl h-full max-h-[90vh] flex flex-col relative">
        <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 flex-shrink-0">
          <h3 class="text-lg leading-6 font-medium text-gray-900" id="attachmentModalTitle">Lihat Lampiran</h3>
          <button type="button" id="closeAttachmentViewerModalBtn" class="text-gray-400 hover:text-gray-500 transition-colors duration-200">
            <span class="sr-only">Tutup</span>
            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <div class="p-4 flex-grow overflow-auto flex items-center justify-center bg-gray-100">
          <div id="attachmentContent" class="w-full h-full"></div>
          <p id="attachmentErrorMessage" class="text-red-500 text-center hidden"></p>
        </div>
      </div>
    </div>

    <!-- QR Code Modal -->
    <div id="qrCodeModal" class="qr-modal-overlay hidden">
      <div class="qr-modal-content flex flex-col items-center">
        <div class="flex justify-between items-center w-full mb-6">
          <h2 class="text-2xl font-bold text-gray-900">QR Code Absensi</h2>
          <button id="closeModalBtn" class="text-gray-500 hover:text-gray-700">
            <i data-feather="x" class="w-7 h-7"></i>
          </button>
        </div>

        <div id="modal-qr-code-display" class="w-full max-w-[256px] h-auto p-4 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center mb-4 min-h-[256px]">
          <img id="modal-qr-code-image" class="w-full h-auto hidden opacity-0 scale-95 transition-all duration-300" alt="QR Code" />
          <span id="modal-qr-placeholder" class="text-gray-500 text-center">Memuat QR Code...</span>
        </div>
        <p id="modal-qr-expires-at" class="text-sm text-gray-500 mt-0 mb-4"></p>

        <div class="flex space-x-3 mt-2">
          <button type="button" id="modal-generate-qr-btn" class="px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors duration-200">Refresh QR Code</button>
          <button type="button" id="modal-close-qr-btn" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200">Tutup QR</button>
        </div>
      </div>
    </div>

    
  </body>
</html>

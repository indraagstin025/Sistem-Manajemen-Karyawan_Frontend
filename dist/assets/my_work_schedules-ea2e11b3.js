import"./input-2b7f90d6.js";import{C as c,i as m,a as u,l as h,W as p}from"./WorkScheduleServices-6bb05019.js";import"./sidebarHandler-d6522c99.js";import"./logoutHandler-0fd76589.js";import"./AuthServices-0f733033.js";import"./sweetalert2.esm.all-9d2ad45a.js";document.addEventListener("DOMContentLoaded",()=>{let n;const d=async(e=null)=>{var t,r;try{const l=(await p.getMyWorkSchedules()).data;n&&n.removeAllEvents();const s=l.map(a=>({id:a.id,title:`${a.start_time}-${a.end_time}`,start:`${a.date}T${a.start_time}`,end:`${a.date}T${a.end_time}`,extendedProps:{note:a.note},backgroundColor:"#38b2ac",borderColor:"#38b2ac",allDay:!1}));n&&n.addEventSource(s)}catch(o){console.error("Error fetching my work schedules:",o),showAlert("Gagal memuat jadwal kerja Anda. "+(((r=(t=o.response)==null?void 0:t.data)==null?void 0:r.error)||o.message),"error")}},i=document.getElementById("my-calendar");n=new c(i,{plugins:[m,u],initialView:"dayGridMonth",locale:h,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!1,selectable:!1,eventDisplay:"block",datesSet:e=>{d(e)},eventClick:e=>{const t=e.event,r=`
                **Jadwal:** ${t.start.toLocaleDateString("id-ID")}
                **Waktu:** ${t.start.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})} - ${t.end?t.end.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"Tidak ada waktu selesai"}
                **Catatan:** ${t.extendedProps.note||"-"}
            `;showAlert(r,"info",5e3)},eventDidMount:function(e){e.el.title=`${e.event.title}
Catatan: ${e.event.extendedProps.note||"-"}`}}),n.render()});

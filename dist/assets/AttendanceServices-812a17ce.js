import{b as t}from"./AuthServices-0f733033.js";const o=()=>{try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing user from localStorage:",e),null}},c={generateQR:async()=>{try{return(await t.get("/attendance/generate-qr")).data}catch(e){throw console.error("Error di AttendanceService.generateQR:",e),e}},getTodaysAttendance:async()=>{try{return(await t.get("/attendance/today")).data}catch(e){throw console.error("Error di AttendanceService.getTodaysAttendance:",e),e}},scanQR:async e=>{const a=o();if(!a||!a.id){const r=new Error("User ID tidak ditemukan. Harap login kembali.");throw r.status=401,r}let n="Asia/Jakarta";try{n=Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Jakarta"}catch{console.warn("Gagal mendeteksi zona waktu, menggunakan default Asia/Jakarta")}try{return(await t.post("/attendance/scan",{qr_code_value:e,user_id:a.id,timezone:n})).data}catch(r){throw console.error("Error di AttendanceService.scanQR:",r),r}},getMyHistory:async()=>{try{return(await t.get("/attendance/my-history")).data}catch(e){throw console.error("Error di AttendanceService.getMyHistory:",e),e}}};export{c as A};
